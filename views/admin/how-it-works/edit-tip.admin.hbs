<form class="formNode" action="/admin/how-it-works/basement-tips/edit">

    <input class="hiddenField" type="hidden" name="tipID" value="{{{ page.tipID }}}">

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="pageTitle">Page title</label>
            <input class="textField" type="text" id="pageTitle" name="pageTitle" value="{{{ page.pageTitle }}}">
        </div>
        <div class="buttonWrapper">
            <button class="deleteButton" type="button" data-redirect="/admin/how-it-works/basement-tips/"
                    data-action="/admin/how-it-works/basement-tips/{{{ page.tipID }}}">
                Delete tip
            </button>
            <div class="buttonHiddenWrapper hiddenWrapper">
                <div class="wrapperTitle">Are you sure you want to remove this tip?</div>
                <div class="wrapperButtons">
                    <button class="cancelButton" type="button">CANCEL</button>
                    <button class="confirmButton" type="button">DELETE</button>
                </div>
            </div>
        </div>
    </section>

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="pageDescription">Page description</label>
            <textarea class="textareaField" id="pageDescription" name="pageDescription">{{{ page.pageDescription }}}</textarea>
        </div>
    </section>

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="pageKeywords">Page keywords</label>
            <textarea class="textareaField" id="pageKeywords" name="pageKeywords">{{{ page.pageKeywords }}}</textarea>
        </div>
    </section>

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="tipLink">Tip link</label>
            <input class="textField" type="text" id="tipLink" name="tipLink" value="{{{ page.tipLink }}}">
        </div>
    </section>

    <section class="fileSection">
        <div class="fileWrapper" style="width: 330px; height: 173px;">
            <input type="file" class="fileField" id="tipImage" name="tipImage">
            <label class="fileLabel" for="tipImage">Tip cover</label>
            {{# if page.tipImage }}
                <img class="fieldPreview" src="{{{ page.tipImage }}}_330x173.jpg" alt="Tip image">
            {{/ if }}
        </div>
    </section>

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="tipTitle">Tip title</label>
            <input class="textField" type="text" id="tipTitle" name="tipTitle" value="{{{ page.tipTitle }}}">
        </div>
    </section>

    <section class="fieldSection">
        <span class="fieldTitle">Category:</span>
        <div class="selectWrapper" data-id="categoryID" data-name="categoryName" style="margin: 0 5px 0 10px;">
            <div class="currentSelect">{{{ page.categoryName }}}</div>
            <input class="hiddenField" type="hidden" name="categoryID" value="{{{ page.categoryID }}}">
            <div class="dropdownWrapper hiddenWrapper">
                {{# each categories }}
                    <div class="dropdownElement">
                        <div class="elementWrapper">
                            <span class="selectElement" data-request="{{{ categoryID }}}">{{{ categoryName }}}</span>
                            <button class="editButton" type="button" title="Edit category">Edit category</button>
                        </div>
                        <div class="editWrapper hiddenWrapper">
                            <input class="editField" type="text" value="{{{ categoryName }}}">
                            <button class="saveButton" data-api="/admin/how-it-works/basement-tips/categories/edit"
                                    type="button" title="Save category">Save category</button>
                        </div>
                    </div>
                {{/ each }}
                <div class="newElement">
                    <div class="createWrapper">+ Add new</div>
                    <div class="editWrapper hiddenWrapper">
                        <input class="editField" type="text">
                        <button class="saveButton" data-api="/admin/how-it-works/basement-tips/categories"
                                type="button" title="Save category">Save category</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="tipAnnounce">Tip announce</label>
            <textarea class="textareaField" id="tipAnnounce" name="tipAnnounce">{{{ page.tipAnnounce }}}</textarea>
        </div>
    </section>

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="tipText">Tip text</label>
            <input class="textField tinyField" type="text" id="tipText" name="tipText" value="{{{ page.tipText }}}">
        </div>
    </section>

    <section class="fieldSection">
        <div class="fieldWrapper">
            <label class="fieldLabel" for="portfolioID">Portfolio ID</label>
            <input class="textField" type="text" id="portfolioID" name="portfolioID" value="{{{ page.portfolioID }}}">
        </div>
    </section>

    <div class="formButtons">
        {{> micro-blocks/upload-button/upload-button }}
        <button class="submitButton" type="button" title="Update"
                data-action="update" data-api="">Update</button>
    </div>

</form>

<template class="dropdownTemplate">
    <div class="dropdownElement">
        <div class="elementWrapper">
            <span class="selectElement" data-request=""></span>
            <button class="editButton" type="button" title="Edit category">Edit category</button>
        </div>
        <div class="editWrapper hiddenWrapper">
            <input class="editField" type="text" value="">
            <button class="saveButton" data-api="/admin/how-it-works/basement-tips/categories/edit"
                    type="button" title="Save category">Save category</button>
        </div>
    </div>
</template>