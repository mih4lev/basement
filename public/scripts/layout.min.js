!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t,r){var n=r(6),a=r(7),o=r(8);e.exports=function(e){return n(e)||a(e)||o()}},function(e,t,r){e.exports=r(10)},function(e,t){function r(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,u,"next",e)}function u(e){r(i,a,o,c,u,"throw",e)}c(void 0)}))}}},function(e,t,r){"use strict";r.d(t,"h",(function(){return s})),r.d(t,"g",(function(){return l})),r.d(t,"f",(function(){return f})),r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return y})),r.d(t,"c",(function(){return S}));var n=r(5),a=r.n(n),o=r(1),i=r.n(o),c=r(2),u=r.n(c),s=function(){var e=document.createElement("canvas"),t=!1;e.getContext&&e.getContext("2d")&&(t=0===e.toDataURL("image/webp").indexOf("data:image/webp"));var r=t?"webp":"no-webp";document.querySelector("html").classList.add(r)},d=function(e){var t=e.button,r=e.isLoaded,n=r?"remove":"add";t.classList[n]("loadButton"),r?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")},l=function(){var e=u()(i.a.mark((function e(t){var r,n,a,o,c,u,s,l,f,v,p,h,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.URL,n=t.method,a=void 0===n?"POST":n,o=t.isJSON,c=void 0!==o&&o,u=t.body,s=void 0===u?{}:u,l=t.button,d({button:l,isLoaded:!1}),f={method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},v={method:a,body:s},p=c?f:v,e.next=8,fetch(r,p);case 8:return h=e.sent,e.next=11,h.json();case 11:return m=e.sent,d({button:l,isLoaded:!0}),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){["dragenter","dragover","dragleave","drop"].forEach((function(t){e.forEach((function(e){e.addEventListener(t,function(e){return function(t){t.preventDefault();var r="dragenter"===e||"dragover"===e?"add":"remove";t.target.classList[r]("dropOver")}}(t))}))}))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={detail:{data:t}},n=new CustomEvent(e,r);document.dispatchEvent(n)},p=function(e,t){if(!e.children.length)return!1;var r=e.children[0].offsetHeight,n=e.children.length,a=100/n*t;if(n<=t)return!1;e.parentNode.style.height="".concat(r*t,"px");var o=function(e){var t=document.createElement("div");return t.classList.add("scrollLine"),t.style.height="".concat(e,"%"),t}(a);e.parentNode.appendChild(o);var i,c=function(a,i){var c=e.offset||0,u=a?c+r:c-r;if(u>(n-t)*r)return!1;!function(t){e.style.marginTop="-".concat(t,"px"),e.offset=t<0?0:t}(u);var s=(t*r-o.offsetHeight)/(n-t),d=o.offset||0,l=a?d+s:d-s;if(l<-10)return!1;!function(e){o.style.marginTop="".concat(e,"px"),o.offset=e<0?0:e}(l)},u=function t(r){var n=r.changedTouches[0].pageY,a=n-i;(a>5||a+5<0)&&c(n<i),e.removeEventListener("touchend",t)};e.addEventListener("wheel",(function(e){e.preventDefault();var t=e.deltaY>0;c(t)})),e.addEventListener("touchstart",(function(t){t.preventDefault(),i=t.changedTouches[0].pageY,e.addEventListener("touchend",u)}))},h=function(){document.querySelector(".pageLoader").classList.remove("hiddenLoader")},m=function(e){var t=document.querySelector(".showMoreButton");if(!t)return!1;var r=t.dataset.scroll;t.addEventListener("click",w(e));var n=new IntersectionObserver((function(t){if(!t[0].isIntersecting)return!1;w(e)()}));r&&"1"===r&&n.observe(t)},y=function(){var e=u()(i.a.mark((function e(t){var r,n,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector(".elementsWrapper"),n=t||r.dataset.api,e.next=4,fetch(n);case 4:return a=e.sent,e.next=7,a.json();case 7:o=e.sent,window.responseData=o[Object.keys(o)[0]],document.dispatchEvent(new CustomEvent("dataLoaded",{detail:{}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t){var r=t.parent,n=t.alt,a=t.image,o=t.imageSize,i=t.selector,c=t.plug,u=t.data,s=t.value,d=e.querySelector(r),l=a?function(e){var t=e.alt,r=e.image,n=e.imageSize,a=e.selector,o=e.data,i=e.value,c=document.createElement("picture");return n.forEach((function(e,u){var s=e[0],d=e[1],l=e[2],f=e[3],v=document.createElement("source"),p=r+l+", "+r+f+" 2x";if(v.setAttribute("srcset",p),v.setAttribute("media",s),v.setAttribute("type",d),c.appendChild(v),u===n.length-1){var h=document.createElement("img");h.classList.add(a),h.setAttribute("alt",t),h.setAttribute("srcset",p),h.setAttribute("src",r+l),c.appendChild(h),o&&(h.dataset[o]=i)}})),c}({alt:n,image:a,imageSize:o,selector:i,data:u,value:s}):function(e){var t=document.createElement("div");return e.forEach((function(e){return t.classList.add(e)})),t}(c);d.appendChild(l)},g=function(e,t){var r=e.detail.data,n=r[Object.keys(r)[0]];t&&(t.innerHTML=""),window.responseData=n,document.querySelector(".pageLoader").classList.add("hiddenLoader")},b=function(e,t){var r=e.children.length;return function(n,o){var i=e.dataset.page;if(o<r||o>r-1+Number(i))return!1;var c,u,s=(c=t(n),u=document.querySelector(".elementTemplate").content.cloneNode(!0),c.forEach((function(e){var t=e.type,r=a()(e,["type"]);"link"===t&&function(e,t){var r=t.selector,n=t.title,a=t.link,o=e.querySelector(r);n&&(o.innerText=n),o.setAttribute("href",a)}(u,r),"picture"===t&&L(u,r),"text"===t&&function(e,t){var r=t.selector,n=t.text;e.querySelector(r).innerText=n}(u,r),"data"===t&&function(e,t){var r=t.selector,n=t.name,a=t.value,o=t.title,i=e.querySelector(r);o&&(i.innerText=o),i.dataset[n]=a}(u,r),"custom"===t&&function(e,t){var r=t.selector,n=t.name,a=t.value,o=t.isVisible,i=t.isLogin,c=e.querySelector(r);0===i?(c.removeAttribute("data-"+n),c.classList.replace("saveIdea","userCreated"),c.innerText="SIGN IN TO SAVE"):o?c.dataset[n]=a:(c.removeAttribute("data-"+n),c.classList.replace("saveIdea","userCreated"),c.innerText="CREATED BY YOU")}(u,r)})),u);e.appendChild(s)}},w=function e(t){return function(r){var n=document.querySelector(".elementsWrapper");if(r&&r.detail&&"object"==typeof r.detail&&g(r,n),!n)return!1;if(!window.responseData||0===window.responseData.length)return setTimeout(e,3e3);window.responseData.forEach(b(n,t));var a=n.children.length;0===a||window.responseData.length<=a?document.querySelector(".showMoreButton").classList.add("hiddenButton"):document.querySelector(".showMoreButton").classList.remove("hiddenButton")}},S=function(e){document.addEventListener("listRequest",h),document.addEventListener("listResponse",w(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e){return function(){var t=e.classList.contains("activeModal")?"remove":"add";e.classList[t]("activeModal")}},a=function(e){var t=document.querySelector('[data-modal="'.concat(e,'"]'));return t.querySelector(".closeButton").addEventListener("click",n(t)),t}},function(e,t,r){var n=r(9);e.exports=function(e,t){if(null==e)return{};var r,a,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new S(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return x()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=g(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var d=u(e,t,r);if("normal"===d.type){if(n=r.done?"completed":"suspendedYield",d.arg===s)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(n="completed",r.method="throw",r.arg=d.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function l(){}function f(){}var v={};v[a]=function(){return this};var p=Object.getPrototypeOf,h=p&&p(p(E([])));h&&h!==t&&r.call(h,a)&&(v=h);var m=f.prototype=d.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function L(e){var t;this._invoke=function(n,a){function o(){return new Promise((function(t,o){!function t(n,a,o,i){var c=u(e[n],e,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?Promise.resolve(d.__await).then((function(e){t("next",e,o,i)}),(function(e){t("throw",e,o,i)})):Promise.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,i)}))}i(c.arg)}(n,a,t,o)}))}return t=t?t.then(o,o):o()}}function g(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return l.prototype=m.constructor=f,f.constructor=l,f[i]=l.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(L.prototype),L.prototype[o]=function(){return this},e.AsyncIterator=L,e.async=function(t,r,n,a){var o=new L(c(t,r,n,a));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(m),m[i]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},,,,,,,,function(e,t,r){"use strict";r.r(t);var n,a,o,i,c,u,s,d=r(3),l=r(0),f=r.n(l),v=r(1),p=r.n(v),h=r(2),m=r.n(h),y=r(4),L=function(e){var t=document.querySelector(".coverWrapper"),r=e.querySelector(".coverField"),n=function(e){return function(r){var n,a=r.target.result,o=t.querySelector(".coverPhoto")||((n=document.createElement("img")).classList.add("coverPhoto"),t.appendChild(n),n);o.setAttribute("alt",e),o.src=a}},a=function(e){return console.log(e)},o=function(){f()(r.files).forEach((function(e){var t=new FileReader;t.addEventListener("load",n(e.name)),t.addEventListener("error",a),t.readAsDataURL(e)}))};t&&Object(d.f)([t]),t&&t.addEventListener("drop",(function(e){if(!e.dataTransfer||!e.dataTransfer.files.length)return!1;r.files=e.dataTransfer.files,o()})),r.addEventListener("change",(function(){if(!r.files||!r.files.length)return!1;o()}))},g=function(e){var t=e.querySelector(".titleField"),r=e.querySelector(".titleLabel"),n=function(n){n.preventDefault();var a=r.classList.contains("hiddenLabel"),o=!t.value,i=a&&o?"remove":"add";r.classList[i]("hiddenLabel"),S(e)};t.addEventListener("focus",n),t.addEventListener("blur",n),t.addEventListener("change",(function(){var e=t.value?"add":"remove";t.classList[e]("typedField")})),L(e)},b=function(){var e=m()(p.a.mark((function e(t){var r,n,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector(".saveCount .countWrapper"),e.next=3,fetch("/api/ideas/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:if((a=e.sent).ideaID){e.next=9;break}return e.abrupt("return",!1);case 9:o=a.saveCount,r.innerText=o;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return function(){var t=m()(p.a.mark((function t(r){var n,a,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=r.target.closest("form"),a=new FormData(n),o={URL:"/api/profile/ideas/save",body:a,button:r.target},t.next=6,Object(d.g)(o);case 6:if(1===t.sent.status){t.next=9;break}return t.abrupt("return",!1);case 9:return i=a.get("ideaID"),t.next=12,b(i);case 12:Object(y.a)(e)();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){var t=e.querySelector(".titleField"),r=e.querySelector(".submitButton"),n=!!t.value,a=f()(e.querySelectorAll(".albumList .album"));r.disabled=!n&&!a.filter((function(e){return e.classList.contains("activeAlbum")})).length},E=function(e){f()(e.querySelectorAll(".album")).forEach((function(e){var t=e.dataset.album,r=e.classList.contains("activeAlbum"),n=e.querySelector(".hiddenField");n&&!r&&e.removeChild(n),!n&&r&&e.appendChild(function(e){var t=document.createElement("input");return t.classList.add("hiddenField"),t.setAttribute("type","hidden"),t.setAttribute("name","savedAlbums"),t.setAttribute("value",e),t}(t))}))},x=function(){var e=m()(p.a.mark((function e(t){var r,n,a,o,i,c,u,s,l,f,v,h,m,L,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.classList.contains("userIdea")){e.next=2;break}return e.abrupt("return",!1);case 2:if(!t.target.classList.contains("unLoginIdea")){e.next=4;break}return e.abrupt("return",!1);case 4:return r=t.target.dataset.idea,(n=document.querySelector('[data-modal="save-idea"]'))&&document.querySelector("body").removeChild(n),a=t.target.closest(".ideaWrapper"),o=a?a.querySelector(".ideaPhoto"):document.querySelector('.ideaPhoto[data-idea="'.concat(r,'"]')),i=document.querySelector(".saveIdeaTemplate"),c=i.content.querySelector("section").cloneNode(!0),c.querySelector(".ideaPhoto").src=o.src,document.querySelector("body").appendChild(c),u=Object(y.b)("save-idea"),Object(y.a)(u)(),s=u.querySelector(".formWrapper"),l=u.querySelector(".loaderWrapper"),u.querySelector('[name="ideaID"]').value=r,e.next=22,fetch("/api/ideas/albums/".concat(r));case 22:return f=e.sent,e.next=25,f.json();case 25:v=e.sent,h=u.querySelector(".albumList"),m=h.querySelector(".album").cloneNode(!0),h.innerHTML="",u.querySelector(".submitButton").addEventListener("click",w(u)),s.addEventListener("submit",w(u)),g(u),L=function(e){var t,r=function(){var t=e.classList.contains("activeAlbum")?"remove":"add";e.classList[t]("activeAlbum"),S(u),E(u)};e.addEventListener("click",r),e.addEventListener("touchstart",(function(e){t=e.changedTouches[0].pageY})),e.addEventListener("touchend",(function(e){if(!u.querySelector(".scrollLine"))return!1;var n=e.changedTouches[0].pageY-t;!(n>5||n+5<0)&&r()}))},b=function(e){var t=e.albumID,r=e.albumTitle,n=e.albumCover,a=e.isSaved,o=m.cloneNode(!0);o.dataset.album=t,o.querySelector(".albumCover").src=n+"_54x54.jpg",o.querySelector(".albumTitle").innerText=r,L(o),a&&o.classList.add("activeAlbum"),o.classList.remove("hiddenAlbum"),h.appendChild(o)},v.albums.forEach(b),E(u),S(u),Object(d.b)(h,3),l.classList.add("hiddenWrapper");case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q={mail:/\S+@\S+\.\S+/,password:/((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})/},k=function(e){var t=e.querySelector(".submitButton"),r=f()(e.querySelectorAll('input[type="text"], textarea')),n=f()(e.querySelectorAll('input[type="checkbox"]')),a=f()(e.querySelectorAll('input[type="radio"]')),o=f()(e.querySelectorAll('input[type="hidden"]'));r.forEach((function(e){var t=e.parentNode.querySelector(".fieldLabel"),r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return function(){e.value||t.classList[r]("hiddenLabel")}};e.addEventListener("focus",r("add")),e.addEventListener("focusout",r("remove"))}));var i=function(){var r=m()(p.a.mark((function r(n){var a,o,i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),a=new FormData(e),o=e.dataset.link){r.next=5;break}return r.abrupt("return",!1);case 5:return r.next=7,Object(d.g)({URL:o,body:a,button:t});case 7:if(200===(i=r.sent).code){r.next=10;break}return r.abrupt("return",!1);case 10:console.log(i);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();t&&t.addEventListener("click",i);var c=e.querySelector(".progressLine"),u=function(){if(!c)return!1;var t=Number(e.dataset.steps),n=r.filter((function(e){return!!e.value})).length+o.filter((function(e){return!!e.value})).length;f()(e.querySelectorAll('input[type="radio"]:checked')).length&&(n+=1),f()(e.querySelectorAll('input[type="checkbox"]:checked')).length&&(n+=1),c.style.width=n===t?"100%":"".concat(100/t*n,"%")};r.forEach((function(e){return e.addEventListener("input",u)})),n.forEach((function(e){return e.addEventListener("change",u)})),a.forEach((function(e){return e.addEventListener("change",u)}));var s=new MutationObserver(u);o.forEach((function(e){s.observe(e,{attributes:!0})}))},T={client_id:"874100673472-3pqnn9eg8p6fvugc9sqvmh3sv0hmkrpc.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile email"},A=f()(document.querySelectorAll(".networkButton.googleButton")),O=function(){var e=m()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getAuthResponse().id_token,e.next=3,fetch("/api/users/login/google/"+r,{method:"POST"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(1===e.sent.status){e.next=9;break}return e.abrupt("return",!1);case 9:location.href="/profile/";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){console.log(JSON.stringify(e,void 0,2))},P=function(){var e=m()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/login/facebook/".concat(t),{method:"POST"});case 2:return r=e.sent,e.next=5,r.json();case 5:if(1===e.sent.status){e.next=8;break}return e.abrupt("return",!1);case 8:location.href="/profile/";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){FB.login((function(e){e.authResponse&&P(e.authResponse.accessToken)}),{scope:"public_profile,email"})};Object(d.h)(),function(){var e=document.querySelector("header"),t=document.querySelector(".headerSandwichButton");if(!e)return!1;var r=function(){if(!e.dataset.page)return!1;var t=window.pageYOffset>0?"remove":"add";e.classList[t]("transparentMenu")};window.addEventListener("scroll",r),r(),t&&t.addEventListener("click",(function(){var t=e.classList.contains("activeMenu"),r=t?"remove":"add";if(e.classList[r]("activeMenu"),t){if(!e.dataset.page)return!1;var n=window.pageYOffset>0?"remove":"add";e.classList[n]("transparentMenu")}else e.classList.remove("transparentMenu")}));f()(e.querySelectorAll(".dropdownMenuLink")).forEach((function(e){e.addEventListener("click",(function(){var t=e.parentNode.classList.contains("activeDropdownLink")?"remove":"add";e.parentNode.classList[t]("activeDropdownLink")}))}))}(),function(){var e=Object(y.b)("view-idea"),t=e.querySelector(".contentWrapper"),r=document.querySelector(".ideaList"),n=f()(document.querySelectorAll(".ideaPhoto")),a=(e.querySelector("form"),e.querySelector(".saveCollectionButton")),o=f()(e.querySelectorAll(".ideaArrow ")),i=e.querySelector(".closeButton"),c=e.querySelector("#ideaID"),u=e.querySelector(".sectionTitle"),s=e.querySelector(".ideaAuthor"),d=e.querySelector(".countWrapper"),l=e.querySelector(".ideaOtherTitle"),v=e.querySelector(".ideaPortfolioTitle"),h=e.querySelector(".ideaOtherTitle .ideaLink"),L=e.querySelector(".ideaPortfolioTitle .ideaLink"),g=e.querySelector(".ideaLabelList"),b=e.querySelector(".otherPreviewList"),w=e.querySelector(".ideaPortfolioWrapper"),S=e.querySelector(".portfolioPreviewList"),E=e.querySelector(".ideaModalPhoto"),x=(e.querySelector(".ideaPhotoWrapper"),function(){return new Promise(function(){var e=m()(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q({isVisible:!1}),setTimeout((function(){c.value="",u.innerText="",s.innerText="",d.innerText="",h.innerText="",h.removeAttribute("href"),g.innerHTML="",b.innerHTML="",S.innerHTML="",a.dataset.idea="",t()}),0);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}),q=function(e){var n=e.isVisible,a=void 0!==n&&n,u=a?"remove":"add";t.classList[u]("showLoadStatus"),i.disabled=!a,function(e){var t=f()(r.children),n=Number(c.value),a=t[0].classList.contains("buttonWrapper")?t[1]:t[0],i=t[t.length-1],u=Number(a.querySelector(".ideaPhoto").dataset.idea),s=Number(i.querySelector(".ideaPhoto").dataset.idea);o.forEach((function(t){var r=t.classList.contains("nextArrow"),a=r&&n===s||!r&&n===u,o=a?"add":"remove";t.classList[o]("hiddenArrow"),t.disabled=a||!e,t.title=r&&!a?"Next idea":r||a?"":"Previous idea"}))}(a)},k=function(e){var t,r=e.ideaID,n=e.ideaTitle,i=e.ideaAuthor,y=e.ideaImage,x=e.saveCount,q=e.prevID,k=e.nextID,A=e.categories,O=e.filters,j=e.isVisible,P=e.isLogin,D=e.portfolio,C=e.portfolioLink,I=A[0],N=(I=void 0===I?{}:I).categoryTitle,M=I.categoryLink,W=I.similar;c.value=r,u.innerText=n,s.innerText=i,d.innerText=x,function(e,t,r){if(0===r){return a.setAttribute("title","Sign in to save"),a.innerText="Sign in to save",a.classList.remove("userIdea"),a.classList.add("unLoginIdea"),!1}var n=t?"Save to collection":"Created by you",o=t?"remove":"add",i=t?"add":"remove";a.dataset.idea=t?e:"",a.setAttribute("title",n),a.innerText=n,a.classList[o]("userIdea"),a.classList[i]("saveIdea")}(r,j,P),o[0].dataset.idea=k,o[1].dataset.idea=q,t=O,g.innerHTML="",t.forEach((function(e){var t=document.createElement("li");t.classList.add("ideaLabel"),t.innerText=e,g.appendChild(t)})),function(e){var t=e.categoryTitle,r=e.categoryLink;if(!e.isVisibleCategory)return l.classList.add("hiddenWrapper");h.innerText=t,h.setAttribute("href",r),l.classList.remove("hiddenWrapper")}({categoryTitle:N,categoryLink:M,isVisibleCategory:W&&!!W.length}),function(e){if(b.innerHTML="",!e)return!1;e.forEach((function(e){var t=e.ideaID,r=e.ideaTitle,n=e.ideaImage,a=document.createElement("li");a.classList.add("otherPreviewWrapper"),a.dataset.idea=t;var o=document.createElement("img");o.classList.add("otherPreview"),o.src=n+"_154x154.jpg",o.setAttribute("alt",r),a.appendChild(o),b.appendChild(a)})),f()(b.children).forEach((function(e){e.addEventListener("click",m()(p.a.mark((function t(){var r,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dataset.idea,n=document.querySelector('[data-modal="view-idea"]'),(a=n.querySelector(".contentWrapper")).classList.add("showLoadStatus"),t.next=6,T(r);case 6:a.classList.remove("showLoadStatus");case 7:case"end":return t.stop()}}),t)}))))}))}(W),function(e){var t=e.portfolioLink;t?!!L&&(L.setAttribute("href",t),v.classList.remove("hiddenWrapper")):v.classList.add("hiddenWrapper")}({portfolioLink:C}),function(e){if(S.innerHTML="",!e.length)return w.classList.add("hiddenList");e.forEach((function(e){var t=e.ideaID,r=e.ideaTitle,n=e.ideaImage;w.classList.remove("hiddenList");var a=document.createElement("li");a.classList.add("otherPreviewWrapper"),a.dataset.idea=t;var o=document.createElement("img");o.classList.add("otherPreview"),o.src=n+"_154x154.jpg",o.setAttribute("alt",r),a.appendChild(o),S.appendChild(a)})),f()(S.children).forEach((function(e){e.addEventListener("click",m()(p.a.mark((function t(){var r,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dataset.idea,n=document.querySelector('[data-modal="view-idea"]'),(a=n.querySelector(".contentWrapper")).classList.add("showLoadStatus"),t.next=6,T(r);case 6:a.classList.remove("showLoadStatus");case 7:case"end":return t.stop()}}),t)}))))}))}(D),function(e){var t=e.ideaImage,r=e.ideaTitle;E.src=t+".jpg",E.setAttribute("title",r)}({ideaImage:y,ideaTitle:n})},T=function(){var e=m()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=m()(p.a.mark((function e(r,n){var a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/ideas/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:o=e.sent,k(o),setTimeout(m()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r());case 1:case"end":return e.stop()}}),e)}))),0);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(t){t.addEventListener("click",m()(p.a.mark((function r(){var n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.dataset.idea,Object(y.a)(e)(),r.next=4,T(n);case 4:q({isVisible:!0});case 5:case"end":return r.stop()}}),r)}))))},O=function(){var e=m()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.dataset.idea,e.next=4,x();case 4:return e.next=6,T(r);case 6:q({isVisible:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n.forEach(A);var j=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){if(!e.classList||!e.classList.contains("ideaWrapper"))return!1;f()(e.querySelectorAll(".ideaPhoto")).forEach(A)}))}))}));r&&j.observe(r,{childList:!0}),a&&a.addEventListener("click",(function(e){e.preventDefault()})),i&&i.addEventListener("click",x),o.forEach((function(e){e.addEventListener("click",O)}));var P=new MutationObserver((function(e){e.forEach((function(e){return!(!e.addedNodes||!e.addedNodes.length)&&(!!e.nextSibling&&void e.addedNodes.forEach((function(e){var t=e.querySelector(".ideaPhoto");A(t)})))}))}));r&&P.observe(r,{attributes:!0,childList:!0})}(),function(){var e=f()(document.querySelectorAll(".saveIdea")),t=function(e){return e.addEventListener("click",x)};e.forEach(t);var r=document.querySelector(".elementsWrapper"),n=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){if(!e.classList||!e.classList.contains("ideaWrapper"))return!1;f()(e.querySelectorAll(".saveIdea")).forEach(t)}))}))}));r&&n.observe(r,{childList:!0})}(),n=Object(y.b)("sign-in"),a=f()(document.querySelectorAll(".userLogin")),o=n.querySelector(".submitButton"),i=n.querySelector("form"),c=f()(n.querySelectorAll(".fieldInput")),u=n.querySelector(".errorMessage"),c.forEach((function(e){var t=e.name;e.addEventListener("input",(function(){var r,n=q[t].test(e.value)||!e.value?"remove":"add";e.classList[n]("errorField"),r=c.filter((function(e){return e.value&&!e.classList.contains("errorField")})).length===c.length,o.disabled=!r})),e.addEventListener("focus",(function(){u.classList.add("hiddenMessage")}))})),a.forEach((function(e){e.addEventListener("click",Object(y.a)(n))})),o.addEventListener("click",function(){var e=m()(p.a.mark((function e(t){var r,n,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=new FormData(i),n={URL:"/api/users/login",body:r,button:o},e.next=6,Object(d.g)(n);case 6:if(a=e.sent,c=a.status,s=a.error,1!==c){e.next=11;break}return e.abrupt("return",location.reload());case 11:u.classList.remove("hiddenMessage"),u.innerText=s;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),gapi.load("auth2",(function(){window.auth2=gapi.auth2.init(T),A.forEach((function(e){return t=e,void window.auth2.attachClickHandler(t,{},O,j);var t}))})),f()(document.querySelectorAll(".networkButton.facebookButton")).forEach((function(e){e.addEventListener("click",D)})),function(){var e=f()(document.querySelectorAll(".sendForm")),t=Object(y.b)("contact-us"),r=f()(document.querySelectorAll(".contactButton"));if(e.length>1)return r.forEach((function(e){e.classList.add("hiddenButton");var t=e.closest(".wrapper");t&&t.querySelector(".footerText").classList.add("fullWrapper")})),!1;r.forEach((function(e){e.addEventListener("click",Object(y.a)(t))}))}(),s=f()(document.querySelectorAll(".selectElement")),s.forEach((function(e){var t=e.querySelector(".currentSelectData"),r=f()(e.querySelectorAll(".selectData")),n=e.querySelector(".hiddenField");r.forEach((function(e){e.addEventListener("click",(function(){var a=e.dataset.select;t.classList.remove("emptyData"),t.innerText=a,r.forEach((function(e){return e.classList.remove("selectedData")})),e.classList.add("selectedData"),n.value=a}))})),e.addEventListener("click",(function(){var t=e.classList.contains("activeSelectElement")?"remove":"add";s.forEach((function(e){return e.classList.remove("activeSelectElement")})),e.classList[t]("activeSelectElement")}))})),f()(document.querySelectorAll(".sendForm")).forEach(k),f()(document.querySelectorAll(".consultationButton")).forEach((function(e){var t=e.closest(".scheduleWrapper");if(!t)return!1;var r=t.querySelector(".zipCodeForm"),n=t.querySelector(".zipCodeField"),a=t.querySelector(".zipCodeButton"),o=t.querySelector(".zipCodeLoader");e.addEventListener("click",(function(a){a.preventDefault();var o=e.offsetWidth;t.style.width="".concat(o,"px"),e.classList.add("hiddenButton"),r.classList.remove("hiddenWrapper"),n.focus()}));var i=function(){var t=m()(p.a.mark((function t(i){var c,u,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),c=new FormData(r),u={URL:"/api/zip-code",body:c,button:a},o.classList.remove("hiddenLoader"),t.next=6,Object(d.g)(u);case 6:if(200===(s=t.sent).code){t.next=9;break}return t.abrupt("return",!1);case 9:console.log(s),o.classList.add("hiddenLoader"),a.classList.add("loadedButton"),n.value="",e.classList.remove("hiddenButton"),r.classList.add("hiddenWrapper");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();a.addEventListener("click",i),r.addEventListener("submit",i)}))}]);