!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t,r){var n=r(6),a=r(7),o=r(8);e.exports=function(e){return n(e)||a(e)||o()}},function(e,t,r){e.exports=r(10)},function(e,t){function r(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,u,"next",e)}function u(e){r(i,a,o,c,u,"throw",e)}c(void 0)}))}}},function(e,t,r){"use strict";r.d(t,"h",(function(){return s})),r.d(t,"g",(function(){return l})),r.d(t,"f",(function(){return f})),r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return y})),r.d(t,"c",(function(){return S}));var n=r(5),a=r.n(n),o=r(1),i=r.n(o),c=r(2),u=r.n(c),s=function(){var e=document.createElement("canvas"),t=!1;e.getContext&&e.getContext("2d")&&(t=0===e.toDataURL("image/webp").indexOf("data:image/webp"));var r=t?"webp":"no-webp";document.querySelector("html").classList.add(r)},d=function(e){var t=e.button,r=e.isLoaded,n=r?"remove":"add";t.classList[n]("loadButton"),r?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")},l=function(){var e=u()(i.a.mark((function e(t){var r,n,a,o,c,u,s,l,f,v,p,h,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.URL,n=t.method,a=void 0===n?"POST":n,o=t.isJSON,c=void 0!==o&&o,u=t.body,s=void 0===u?{}:u,l=t.button,d({button:l,isLoaded:!1}),f={method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},v={method:a,body:s},p=c?f:v,e.next=8,fetch(r,p);case 8:return h=e.sent,e.next=11,h.json();case 11:return m=e.sent,d({button:l,isLoaded:!0}),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){["dragenter","dragover","dragleave","drop"].forEach((function(t){e.forEach((function(e){e.addEventListener(t,function(e){return function(t){t.preventDefault();var r="dragenter"===e||"dragover"===e?"add":"remove";t.target.classList[r]("dropOver")}}(t))}))}))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={detail:{data:t}},n=new CustomEvent(e,r);document.dispatchEvent(n)},p=function(e,t){if(!e.children.length)return!1;var r=e.children[0].offsetHeight,n=e.children.length,a=100/n*t;if(n<=t)return!1;e.parentNode.style.height="".concat(r*t,"px");var o=function(e){var t=document.createElement("div");return t.classList.add("scrollLine"),t.style.height="".concat(e,"%"),t}(a);e.parentNode.appendChild(o);var i,c=function(a,i){var c=e.offset||0,u=a?c+r:c-r;if(u>(n-t)*r)return!1;!function(t){e.style.marginTop="-".concat(t,"px"),e.offset=t<0?0:t}(u);var s=(t*r-o.offsetHeight)/(n-t),d=o.offset||0,l=a?d+s:d-s;if(l<-10)return!1;!function(e){o.style.marginTop="".concat(e,"px"),o.offset=e<0?0:e}(l)},u=function t(r){var n=r.changedTouches[0].pageY,a=n-i;(a>5||a+5<0)&&c(n<i),e.removeEventListener("touchend",t)};e.addEventListener("wheel",(function(e){e.preventDefault();var t=e.deltaY>0;c(t)})),e.addEventListener("touchstart",(function(t){t.preventDefault(),i=t.changedTouches[0].pageY,e.addEventListener("touchend",u)}))},h=function(){document.querySelector(".pageLoader").classList.remove("hiddenLoader")},m=function(e){var t=document.querySelector(".showMoreButton");if(!t)return!1;var r=t.dataset.scroll;t.addEventListener("click",w(e));var n=new IntersectionObserver((function(t){if(!t[0].isIntersecting)return!1;w(e)()}));r&&"1"===r&&n.observe(t)},y=function(){var e=u()(i.a.mark((function e(t){var r,n,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector(".elementsWrapper"),n=t||r.dataset.api,e.next=4,fetch(n);case 4:return a=e.sent,e.next=7,a.json();case 7:o=e.sent,window.responseData=o[Object.keys(o)[0]],document.dispatchEvent(new CustomEvent("dataLoaded",{detail:{}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t){var r=t.parent,n=t.alt,a=t.image,o=t.imageSize,i=t.selector,c=t.plug,u=t.data,s=t.value,d=e.querySelector(r),l=a?function(e){var t=e.alt,r=e.image,n=e.imageSize,a=e.selector,o=e.data,i=e.value,c=document.createElement("picture");return n.forEach((function(e,u){var s=e[0],d=e[1],l=e[2],f=e[3],v=document.createElement("source"),p=r+l+", "+r+f+" 2x";if(v.setAttribute("srcset",p),v.setAttribute("media",s),v.setAttribute("type",d),c.appendChild(v),u===n.length-1){var h=document.createElement("img");h.classList.add(a),h.setAttribute("alt",t),h.setAttribute("srcset",p),h.setAttribute("src",r+l),c.appendChild(h),o&&(h.dataset[o]=i)}})),c}({alt:n,image:a,imageSize:o,selector:i,data:u,value:s}):function(e){var t=document.createElement("div");return e.forEach((function(e){return t.classList.add(e)})),t}(c);d.appendChild(l)},L=function(e,t){var r=e.detail.data,n=r[Object.keys(r)[0]];t&&(t.innerHTML=""),window.responseData=n,document.querySelector(".pageLoader").classList.add("hiddenLoader")},g=function(e,t){var r=e.children.length;return function(n,o){var i=e.dataset.page;if(o<r||o>r-1+Number(i))return!1;var c,u,s=(c=t(n),u=document.querySelector(".elementTemplate").content.cloneNode(!0),c.forEach((function(e){var t=e.type,r=a()(e,["type"]);"link"===t&&function(e,t){var r=t.selector,n=t.title,a=t.link,o=e.querySelector(r);n&&(o.innerText=n),o.setAttribute("href",a)}(u,r),"picture"===t&&b(u,r),"text"===t&&function(e,t){var r=t.selector,n=t.text;e.querySelector(r).innerText=n}(u,r),"data"===t&&function(e,t){var r=t.selector,n=t.name,a=t.value,o=t.title,i=e.querySelector(r);o&&(i.innerText=o),i.dataset[n]=a}(u,r),"custom"===t&&function(e,t){var r=t.selector,n=t.name,a=t.value,o=t.isVisible,i=t.isLogin,c=e.querySelector(r);0===i?(c.removeAttribute("data-"+n),c.classList.replace("saveIdea","userCreated"),c.innerText="SIGN IN TO SAVE"):o?c.dataset[n]=a:(c.removeAttribute("data-"+n),c.classList.replace("saveIdea","userCreated"),c.innerText="CREATED BY YOU")}(u,r)})),u);e.appendChild(s)}},w=function e(t){return function(r){var n=document.querySelector(".elementsWrapper");if(r&&r.detail&&"object"==typeof r.detail&&L(r,n),!n)return!1;if(!window.responseData)return setTimeout(e,3e3);window.responseData.forEach(g(n,t));var a=n.children.length;0===a||window.responseData.length<=a?document.querySelector(".showMoreButton").classList.add("hiddenButton"):document.querySelector(".showMoreButton").classList.remove("hiddenButton")}},S=function(e){document.addEventListener("listRequest",h),document.addEventListener("listResponse",w(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e){return function(){var t=e.classList.contains("activeModal")?"remove":"add";e.classList[t]("activeModal")}},a=function(e){var t=document.querySelector('[data-modal="'.concat(e,'"]'));return t.querySelector(".closeButton").addEventListener("click",n(t)),t}},function(e,t,r){var n=r(9);e.exports=function(e,t){if(null==e)return{};var r,a,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new S(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return E()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var d=u(e,t,r);if("normal"===d.type){if(n=r.done?"completed":"suspendedYield",d.arg===s)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(n="completed",r.method="throw",r.arg=d.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function l(){}function f(){}var v={};v[a]=function(){return this};var p=Object.getPrototypeOf,h=p&&p(p(x([])));h&&h!==t&&r.call(h,a)&&(v=h);var m=f.prototype=d.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e){var t;this._invoke=function(n,a){function o(){return new Promise((function(t,o){!function t(n,a,o,i){var c=u(e[n],e,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?Promise.resolve(d.__await).then((function(e){t("next",e,o,i)}),(function(e){t("throw",e,o,i)})):Promise.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,i)}))}i(c.arg)}(n,a,t,o)}))}return t=t?t.then(o,o):o()}}function L(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function g(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(g,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return l.prototype=m.constructor=f,f.constructor=l,f[i]=l.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,a){var o=new b(c(t,r,n,a));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(m),m[i]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(3),a=r(0),o=r.n(a),i=r(1),c=r.n(i),u=r(2),s=r.n(u),d=r(4),l=function(e){var t=document.querySelector(".coverWrapper"),r=e.querySelector(".coverField"),a=function(e){return function(r){var n,a=r.target.result,o=t.querySelector(".coverPhoto")||((n=document.createElement("img")).classList.add("coverPhoto"),t.appendChild(n),n);o.setAttribute("alt",e),o.src=a}},i=function(e){return console.log(e)},c=function(){o()(r.files).forEach((function(e){var t=new FileReader;t.addEventListener("load",a(e.name)),t.addEventListener("error",i),t.readAsDataURL(e)}))};t&&Object(n.f)([t]),t&&t.addEventListener("drop",(function(e){if(!e.dataTransfer||!e.dataTransfer.files.length)return!1;r.files=e.dataTransfer.files,c()})),r.addEventListener("change",(function(){if(!r.files||!r.files.length)return!1;c()}))},f=function(e){var t=e.querySelector(".titleField"),r=e.querySelector(".titleLabel"),n=function(n){n.preventDefault();var a=r.classList.contains("hiddenLabel"),o=!t.value,i=a&&o?"remove":"add";r.classList[i]("hiddenLabel"),h(e)};t.addEventListener("focus",n),t.addEventListener("blur",n),t.addEventListener("change",(function(){var e=t.value?"add":"remove";t.classList[e]("typedField")})),l(e)},v=function(){var e=s()(c.a.mark((function e(t){var r,n,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector(".saveCount .countWrapper"),e.next=3,fetch("/api/ideas/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:if((a=e.sent).ideaID){e.next=9;break}return e.abrupt("return",!1);case 9:o=a.saveCount,r.innerText=o;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return function(){var t=s()(c.a.mark((function t(r){var a,o,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),a=r.target.closest("form"),o=new FormData(a),i={URL:"/api/profile/ideas/save",body:o,button:r.target},t.next=6,Object(n.g)(i);case 6:if(1===t.sent.status){t.next=9;break}return t.abrupt("return",!1);case 9:return u=o.get("ideaID"),t.next=12,v(u);case 12:Object(d.a)(e)();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){var t=e.querySelector(".titleField"),r=e.querySelector(".submitButton"),n=!!t.value,a=o()(e.querySelectorAll(".albumList .album"));r.disabled=!n&&!a.filter((function(e){return e.classList.contains("activeAlbum")})).length},m=function(e){o()(e.querySelectorAll(".album")).forEach((function(e){var t=e.dataset.album,r=e.classList.contains("activeAlbum"),n=e.querySelector(".hiddenField");n&&!r&&e.removeChild(n),!n&&r&&e.appendChild(function(e){var t=document.createElement("input");return t.classList.add("hiddenField"),t.setAttribute("type","hidden"),t.setAttribute("name","savedAlbums"),t.setAttribute("value",e),t}(t))}))},y=function(){var e=s()(c.a.mark((function e(t){var r,a,o,i,u,s,l,v,y,b,L,g,w,S,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.classList.contains("userIdea")){e.next=2;break}return e.abrupt("return",!1);case 2:if(!t.target.classList.contains("unLoginIdea")){e.next=4;break}return e.abrupt("return",!1);case 4:return r=t.target.dataset.idea,(a=document.querySelector('[data-modal="save-idea"]'))&&document.querySelector("body").removeChild(a),o=t.target.closest(".ideaWrapper"),i=o?o.querySelector(".ideaPhoto"):document.querySelector('.ideaPhoto[data-idea="'.concat(r,'"]')),u=document.querySelector(".saveIdeaTemplate"),s=u.content.querySelector("section").cloneNode(!0),s.querySelector(".ideaPhoto").src=i.src,document.querySelector("body").appendChild(s),l=Object(d.b)("save-idea"),Object(d.a)(l)(),v=l.querySelector(".formWrapper"),y=l.querySelector(".loaderWrapper"),l.querySelector('[name="ideaID"]').value=r,e.next=22,fetch("/api/ideas/albums/".concat(r));case 22:return b=e.sent,e.next=25,b.json();case 25:L=e.sent,g=l.querySelector(".albumList"),w=g.querySelector(".album").cloneNode(!0),g.innerHTML="",l.querySelector(".submitButton").addEventListener("click",p(l)),v.addEventListener("submit",p(l)),f(l),S=function(e){var t,r=function(){var t=e.classList.contains("activeAlbum")?"remove":"add";e.classList[t]("activeAlbum"),h(l),m(l)};e.addEventListener("click",r),e.addEventListener("touchstart",(function(e){t=e.changedTouches[0].pageY})),e.addEventListener("touchend",(function(e){if(!l.querySelector(".scrollLine"))return!1;var n=e.changedTouches[0].pageY-t;!(n>5||n+5<0)&&r()}))},x=function(e){var t=e.albumID,r=e.albumTitle,n=e.albumCover,a=e.isSaved,o=w.cloneNode(!0);o.dataset.album=t,o.querySelector(".albumCover").src=n+"_54x54.jpg",o.querySelector(".albumTitle").innerText=r,S(o),a&&o.classList.add("activeAlbum"),o.classList.remove("hiddenAlbum"),g.appendChild(o)},L.albums.forEach(x),m(l),h(l),Object(n.b)(g,3),y.classList.add("hiddenWrapper");case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b={mail:/\S+@\S+\.\S+/,password:/((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})/},L=function(e){var t=e.querySelector(".submitButton"),r=o()(e.querySelectorAll('input[type="text"], textarea')),a=o()(e.querySelectorAll('input[type="checkbox"]')),i=o()(e.querySelectorAll('input[type="radio"]')),u=o()(e.querySelectorAll('input[type="hidden"]'));r.forEach((function(e){var t=e.parentNode.querySelector(".fieldLabel"),r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return function(){e.value||t.classList[r]("hiddenLabel")}};e.addEventListener("focus",r("add")),e.addEventListener("focusout",r("remove"))}));var d=function(){var r=s()(c.a.mark((function r(a){var o,i,u;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),o=new FormData(e),i=e.dataset.link){r.next=5;break}return r.abrupt("return",!1);case 5:return r.next=7,Object(n.g)({URL:i,body:o,button:t});case 7:if(200===(u=r.sent).code){r.next=10;break}return r.abrupt("return",!1);case 10:console.log(u);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();t&&t.addEventListener("click",d);var l=e.querySelector(".progressLine"),f=function(){if(!l)return!1;var t=Number(e.dataset.steps),n=r.filter((function(e){return!!e.value})).length+u.filter((function(e){return!!e.value})).length;o()(e.querySelectorAll('input[type="radio"]:checked')).length&&(n+=1),o()(e.querySelectorAll('input[type="checkbox"]:checked')).length&&(n+=1),l.style.width=n===t?"100%":"".concat(100/t*n,"%")};r.forEach((function(e){return e.addEventListener("input",f)})),a.forEach((function(e){return e.addEventListener("change",f)})),i.forEach((function(e){return e.addEventListener("change",f)}));var v=new MutationObserver(f);u.forEach((function(e){v.observe(e,{attributes:!0})}))},g={client_id:"874100673472-3pqnn9eg8p6fvugc9sqvmh3sv0hmkrpc.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile email"},w=document.querySelector(".networkButton.googleButton"),S=function(){var e=s()(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getAuthResponse().id_token,e.next=3,fetch("/api/users/login/google/"+r,{method:"POST"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(1===e.sent.status){e.next=9;break}return e.abrupt("return",!1);case 9:location.href="/profile/";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){console.log(JSON.stringify(e,void 0,2))},E=function(){var e=s()(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/login/facebook/".concat(t),{method:"POST"});case 2:return r=e.sent,e.next=5,r.json();case 5:if(1===e.sent.status){e.next=8;break}return e.abrupt("return",!1);case 8:location.href="/profile/";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){FB.getLoginStatus((function(e){e.authResponse?E(e.authResponse.accessToken):FB.login((function(e){e.authResponse&&E(e.authResponse.accessToken)}),{scope:"public_profile,email"})}))};window.fbAsyncInit=function(){FB.init({appId:"2691439147789974",cookie:!0,xfbml:!0,version:"v8.0"})};var k,A,T,O,j,D,P;Object(n.h)(),function(){var e=document.querySelector("header"),t=document.querySelector(".headerSandwichButton");if(!e)return!1;var r=function(){if(!e.dataset.page)return!1;var t=window.pageYOffset>0?"remove":"add";e.classList[t]("transparentMenu")};window.addEventListener("scroll",r),r(),t&&t.addEventListener("click",(function(){var t=e.classList.contains("activeMenu"),r=t?"remove":"add";if(e.classList[r]("activeMenu"),t){if(!e.dataset.page)return!1;var n=window.pageYOffset>0?"remove":"add";e.classList[n]("transparentMenu")}else e.classList.remove("transparentMenu")}));o()(e.querySelectorAll(".dropdownMenuLink")).forEach((function(e){e.addEventListener("click",(function(){var t=e.parentNode.classList.contains("activeDropdownLink")?"remove":"add";e.parentNode.classList[t]("activeDropdownLink")}))}))}(),function(){var e=Object(d.b)("view-idea"),t=e.querySelector(".contentWrapper"),r=document.querySelector(".ideaList"),n=o()(document.querySelectorAll(".ideaPhoto")),a=(e.querySelector("form"),e.querySelector(".saveCollectionButton")),i=o()(e.querySelectorAll(".ideaArrow ")),u=e.querySelector(".closeButton"),l=e.querySelector("#ideaID"),f=e.querySelector(".sectionTitle"),v=e.querySelector(".ideaAuthor"),p=e.querySelector(".countWrapper"),h=e.querySelector(".ideaLink"),m=e.querySelector(".ideaLabelList"),y=e.querySelector(".otherPreviewList"),b=e.querySelector(".ideaModalPhoto"),L=(e.querySelector(".ideaPhotoWrapper"),function(){return new Promise(function(){var e=s()(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({isVisible:!1}),setTimeout((function(){l.value="",f.innerText="",v.innerText="",p.innerText="",h.innerText="",h.removeAttribute("href"),m.innerHTML="",y.innerHTML="",a.dataset.idea="",t()}),250);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}),g=function(e){var n=e.isVisible,a=void 0!==n&&n,c=a?"remove":"add";t.classList[c]("showLoadStatus"),u.disabled=!a,function(e){var t=o()(r.children),n=Number(l.value),a=t[0].classList.contains("buttonWrapper")?t[1]:t[0],c=t[t.length-1],u=Number(a.querySelector(".ideaPhoto").dataset.idea),s=Number(c.querySelector(".ideaPhoto").dataset.idea);i.forEach((function(t){var r=t.classList.contains("nextArrow"),a=r&&n===s||!r&&n===u,o=a?"add":"remove";t.classList[o]("hiddenArrow"),t.disabled=a||!e,t.title=r&&!a?"Next idea":r||a?"":"Previous idea"}))}(a)},w=function(e){var t=e.ideaImage,r=e.ideaTitle;document.querySelector("html").classList.contains("webp");b.src=t+".jpg",b.setAttribute("title",r)},S=function(e){var t,r=e.ideaID,n=e.ideaTitle,u=e.ideaAuthor,d=e.ideaImage,b=e.saveCount,L=e.prevID,g=e.nextID,S=e.categories,E=e.filters,q=e.isVisible,k=e.isLogin,A=S[0],T=A.categoryTitle,O=A.categoryLink,j=A.similar;l.value=r,f.innerText=n,v.innerText=u,p.innerText=b,function(e,t,r){if(0===r){return a.setAttribute("title","Sign in to save"),a.innerText="Sign in to save",a.classList.remove("userIdea"),a.classList.add("unLoginIdea"),!1}var n=t?"Save to collection":"Created by you",o=t?"remove":"add",i=t?"add":"remove";a.dataset.idea=t?e:"",a.setAttribute("title",n),a.innerText=n,a.classList[o]("userIdea"),a.classList[i]("saveIdea")}(r,q,k),h.innerText=T,h.setAttribute("href",O),i[0].dataset.idea=g,i[1].dataset.idea=L,t=E,m.innerHTML="",t.forEach((function(e){var t=document.createElement("li");t.classList.add("ideaLabel"),t.innerText=e,m.appendChild(t)})),function(e){y.innerHTML="",e.forEach((function(e){var t=e.ideaID,r=e.ideaTitle,n=e.ideaImage,a=document.createElement("li");a.classList.add("otherPreviewWrapper"),a.dataset.idea=t;var o=document.createElement("img");o.classList.add("otherPreview"),o.src=n+"_154x154.jpg",o.setAttribute("alt",r),a.appendChild(o),y.appendChild(a)})),o()(y.children).forEach((function(e){e.addEventListener("click",s()(c.a.mark((function t(){var r,n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dataset.idea,n=document.querySelector('[data-modal="view-idea"]'),(a=n.querySelector(".contentWrapper")).classList.add("showLoadStatus"),t.next=6,x(r);case 6:a.classList.remove("showLoadStatus");case 7:case"end":return t.stop()}}),t)}))))}))}(j),w({ideaImage:d,ideaTitle:n})},x=function(){var e=s()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=s()(c.a.mark((function e(r,n){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/ideas/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:o=e.sent,S(o),setTimeout(s()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r());case 1:case"end":return e.stop()}}),e)}))),250);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(t){t.addEventListener("click",s()(c.a.mark((function r(){var n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.dataset.idea,Object(d.a)(e)(),r.next=4,x(n);case 4:g({isVisible:!0});case 5:case"end":return r.stop()}}),r)}))))},q=function(){var e=s()(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.dataset.idea,e.next=4,L();case 4:return e.next=6,x(r);case 6:g({isVisible:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n.forEach(E);var k=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){if(!e.classList||!e.classList.contains("ideaWrapper"))return!1;o()(e.querySelectorAll(".ideaPhoto")).forEach(E)}))}))}));r&&k.observe(r,{childList:!0}),a&&a.addEventListener("click",(function(e){e.preventDefault()})),u&&u.addEventListener("click",L),i.forEach((function(e){e.addEventListener("click",q)}));var A=new MutationObserver((function(e){e.forEach((function(e){return!(!e.addedNodes||!e.addedNodes.length)&&(!!e.nextSibling&&void e.addedNodes.forEach((function(e){var t=e.querySelector(".ideaPhoto");E(t)})))}))}));r&&A.observe(r,{attributes:!0,childList:!0})}(),function(){var e=o()(document.querySelectorAll(".saveIdea")),t=function(e){return e.addEventListener("click",y)};e.forEach(t);var r=document.querySelector(".elementsWrapper"),n=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){if(!e.classList||!e.classList.contains("ideaWrapper"))return!1;o()(e.querySelectorAll(".saveIdea")).forEach(t)}))}))}));r&&n.observe(r,{childList:!0})}(),k=Object(d.b)("sign-in"),A=o()(document.querySelectorAll(".userLogin")),T=k.querySelector(".submitButton"),O=k.querySelector("form"),j=o()(k.querySelectorAll(".fieldInput")),D=k.querySelector(".errorMessage"),j.forEach((function(e){var t=e.name;e.addEventListener("input",(function(){var r,n=b[t].test(e.value)||!e.value?"remove":"add";e.classList[n]("errorField"),r=j.filter((function(e){return e.value&&!e.classList.contains("errorField")})).length===j.length,T.disabled=!r})),e.addEventListener("focus",(function(){D.classList.add("hiddenMessage")}))})),A.forEach((function(e){e.addEventListener("click",Object(d.a)(k))})),T.addEventListener("click",function(){var e=s()(c.a.mark((function e(t){var r,a,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=new FormData(O),a={URL:"/api/users/login",body:r,button:T},e.next=6,Object(n.g)(a);case 6:if(o=e.sent,i=o.status,u=o.error,1!==i){e.next=11;break}return e.abrupt("return",location.reload());case 11:D.classList.remove("hiddenMessage"),D.innerText=u;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),gapi.load("auth2",(function(){var e;window.auth2=gapi.auth2.init(g),e=w,window.auth2.attachClickHandler(e,{},S,x)})),document.querySelector(".networkButton.facebookButton").addEventListener("click",q),function(){var e=o()(document.querySelectorAll(".sendForm")),t=Object(d.b)("contact-us"),r=o()(document.querySelectorAll(".contactButton"));if(e.length>1)return r.forEach((function(e){e.classList.add("hiddenButton");var t=e.closest(".wrapper");t&&t.querySelector(".footerText").classList.add("fullWrapper")})),!1;r.forEach((function(e){e.addEventListener("click",Object(d.a)(t))}))}(),P=o()(document.querySelectorAll(".selectElement")),P.forEach((function(e){var t=e.querySelector(".currentSelectData"),r=o()(e.querySelectorAll(".selectData")),n=e.querySelector(".hiddenField");r.forEach((function(e){e.addEventListener("click",(function(){var a=e.dataset.select;t.classList.remove("emptyData"),t.innerText=a,r.forEach((function(e){return e.classList.remove("selectedData")})),e.classList.add("selectedData"),n.value=a}))})),e.addEventListener("click",(function(){var t=e.classList.contains("activeSelectElement")?"remove":"add";P.forEach((function(e){return e.classList.remove("activeSelectElement")})),e.classList[t]("activeSelectElement")}))})),o()(document.querySelectorAll(".sendForm")).forEach(L),o()(document.querySelectorAll(".consultationButton")).forEach((function(e){var t=e.closest(".scheduleWrapper");if(!t)return!1;var r=t.querySelector(".zipCodeForm"),a=t.querySelector(".zipCodeField"),o=t.querySelector(".zipCodeButton"),i=t.querySelector(".zipCodeLoader");e.addEventListener("click",(function(n){n.preventDefault();var o=e.offsetWidth;t.style.width="".concat(o,"px"),e.classList.add("hiddenButton"),r.classList.remove("hiddenWrapper"),a.focus()}));var u=function(){var t=s()(c.a.mark((function t(u){var s,d,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.preventDefault(),s=new FormData(r),d={URL:"/api/zip-code",body:s,button:o},i.classList.remove("hiddenLoader"),t.next=6,Object(n.g)(d);case 6:if(200===(l=t.sent).code){t.next=9;break}return t.abrupt("return",!1);case 9:console.log(l),i.classList.add("hiddenLoader"),o.classList.add("loadedButton"),a.value="",e.classList.remove("hiddenButton"),r.classList.add("hiddenWrapper");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();o.addEventListener("click",u),r.addEventListener("submit",u)}))}]);