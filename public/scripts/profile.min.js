!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(e,t,r){var n=r(6),a=r(7),o=r(8);e.exports=function(e){return n(e)||a(e)||o()}},function(e,t,r){e.exports=r(10)},function(e,t){function r(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function u(e){r(i,a,o,u,c,"next",e)}function c(e){r(i,a,o,u,c,"throw",e)}u(void 0)}))}}},function(e,t,r){"use strict";r.d(t,"i",(function(){return s})),r.d(t,"g",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"a",(function(){return p})),r.d(t,"h",(function(){return v})),r.d(t,"b",(function(){return h})),r.d(t,"d",(function(){return y})),r.d(t,"e",(function(){return b})),r.d(t,"c",(function(){return w}));var n=r(5),a=r.n(n),o=r(1),i=r.n(o),u=r(2),c=r.n(u),s=function(){var e=document.createElement("canvas"),t=!1;e.getContext&&e.getContext("2d")&&(t=0===e.toDataURL("image/webp").indexOf("data:image/webp"));var r=t?"webp":"no-webp";document.querySelector("html").classList.add(r)},l=function(e){var t=e.button,r=e.isLoaded,n=r?"remove":"add";t.classList[n]("loadButton"),r?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")},d=function(){var e=c()(i.a.mark((function e(t){var r,n,a,o,u,c,s,d,f,p,v,h,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.URL,n=t.method,a=void 0===n?"POST":n,o=t.isJSON,u=void 0!==o&&o,c=t.body,s=void 0===c?{}:c,d=t.button,l({button:d,isLoaded:!1}),f={method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},p={method:a,body:s},v=u?f:p,e.next=8,fetch(r,v);case 8:return h=e.sent,e.next=11,h.json();case 11:return m=e.sent,l({button:d,isLoaded:!0}),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){["dragenter","dragover","dragleave","drop"].forEach((function(t){e.forEach((function(e){e.addEventListener(t,function(e){return function(t){t.preventDefault();var r="dragenter"===e||"dragover"===e?"add":"remove";t.target.classList[r]("dropOver")}}(t))}))}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={detail:{data:t}},n=new CustomEvent(e,r);document.dispatchEvent(n)},v=function(){var e=document.querySelector("title"),t=function(){return e.innerText="DEV ".concat(window.innerWidth)};window.addEventListener("resize",t),t()},h=function(e,t){if(!e.children.length)return!1;var r=e.children[0].offsetHeight,n=e.children.length,a=100/n*t;if(n<=t)return!1;e.parentNode.style.height="".concat(r*t,"px");var o=function(e){var t=document.createElement("div");return t.classList.add("scrollLine"),t.style.height="".concat(e,"%"),t}(a);e.parentNode.appendChild(o);var i,u=function(a,i){var u=e.offset||0,c=a?u+r:u-r;if(c>(n-t)*r)return!1;!function(t){e.style.marginTop="-".concat(t,"px"),e.offset=t<0?0:t}(c);var s=(t*r-o.offsetHeight)/(n-t),l=o.offset||0,d=a?l+s:l-s;if(d<-10)return!1;!function(e){o.style.marginTop="".concat(e,"px"),o.offset=e<0?0:e}(d)},c=function t(r){var n=r.changedTouches[0].pageY,a=n-i;(a>5||a+5<0)&&u(n<i),e.removeEventListener("touchend",t)};e.addEventListener("wheel",(function(e){e.preventDefault();var t=e.deltaY>0;u(t)})),e.addEventListener("touchstart",(function(t){t.preventDefault(),i=t.changedTouches[0].pageY,e.addEventListener("touchend",c)}))},m=function(){document.querySelector(".pageLoader").classList.remove("hiddenLoader")},y=function(e){var t=document.querySelector(".showMoreButton");if(!t)return!1;var r=t.dataset.scroll;t.addEventListener("click",E(e));var n=new IntersectionObserver((function(t){if(!t[0].isIntersecting)return!1;E(e)()}));r&&"1"===r&&n.observe(t)},b=function(){var e=c()(i.a.mark((function e(t){var r,n,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector(".elementsWrapper"),n=t||r.dataset.api,e.next=4,fetch(n);case 4:return a=e.sent,e.next=7,a.json();case 7:o=e.sent,window.responseData=o[Object.keys(o)[0]],document.dispatchEvent(new CustomEvent("dataLoaded",{detail:{}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){var r=t.parent,n=t.alt,a=t.image,o=t.imageSize,i=t.selector,u=t.plug,c=t.data,s=t.value,l=e.querySelector(r),d=a?function(e){var t=e.alt,r=e.image,n=e.imageSize,a=e.selector,o=e.data,i=e.value,u=document.createElement("picture");return n.forEach((function(e,c){var s=e[0],l=e[1],d=e[2],f=e[3],p=document.createElement("source"),v=r+d+", "+r+f+" 2x";if(p.setAttribute("srcset",v),p.setAttribute("media",s),p.setAttribute("type",l),u.appendChild(p),c===n.length-1){var h=document.createElement("img");h.classList.add(a),h.setAttribute("alt",t),h.setAttribute("srcset",v),h.setAttribute("src",r+d),u.appendChild(h),o&&(h.dataset[o]=i)}})),u}({alt:n,image:a,imageSize:o,selector:i,data:c,value:s}):function(e){var t=document.createElement("div");return e.forEach((function(e){return t.classList.add(e)})),t}(u);l.appendChild(d)},L=function(e,t){var r=e.detail.data,n=r[Object.keys(r)[0]];t&&(t.innerHTML=""),window.responseData=n,document.querySelector(".pageLoader").classList.add("hiddenLoader")},S=function(e,t){var r=e.children.length;return function(n,o){var i=e.dataset.page;if(o<r||o>r-1+Number(i))return!1;var u,c,s=(u=t(n),c=document.querySelector(".elementTemplate").content.cloneNode(!0),u.forEach((function(e){var t=e.type,r=a()(e,["type"]);"link"===t&&function(e,t){var r=t.selector,n=t.title,a=t.link,o=e.querySelector(r);n&&(o.innerText=n),o.setAttribute("href",a)}(c,r),"picture"===t&&g(c,r),"text"===t&&function(e,t){var r=t.selector,n=t.text;e.querySelector(r).innerText=n}(c,r),"data"===t&&function(e,t){var r=t.selector,n=t.name,a=t.value,o=t.title,i=e.querySelector(r);o&&(i.innerText=o),i.dataset[n]=a}(c,r),"custom"===t&&function(e,t){var r=t.selector,n=t.name,a=t.value,o=t.isVisible,i=t.isLogin,u=e.querySelector(r);0===i?(u.removeAttribute("data-"+n),u.classList.replace("saveIdea","userCreated"),u.innerText="SIGN IN TO SAVE"):o?u.dataset[n]=a:(u.removeAttribute("data-"+n),u.classList.replace("saveIdea","userCreated"),u.innerText="CREATED BY YOU")}(c,r)})),c);e.appendChild(s)}},E=function e(t){return function(r){var n=document.querySelector(".elementsWrapper");if(r&&r.detail&&"object"==typeof r.detail&&L(r,n),!n)return!1;if(!window.responseData)return setTimeout(e,3e3);window.responseData.forEach(S(n,t));var a=n.children.length;0===a||window.responseData.length<=a?document.querySelector(".showMoreButton").classList.add("hiddenButton"):document.querySelector(".showMoreButton").classList.remove("hiddenButton")}},w=function(e){document.addEventListener("listRequest",m),document.addEventListener("listResponse",E(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e){return function(){var t=e.classList.contains("activeModal")?"remove":"add";e.classList[t]("activeModal")}},a=function(e){var t=document.querySelector('[data-modal="'.concat(e,'"]'));return t.querySelector(".closeButton").addEventListener("click",n(t)),t}},function(e,t,r){var n=r(9);e.exports=function(e,t){if(null==e)return{};var r,a,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function u(e,t,r,n){var a=t&&t.prototype instanceof l?t:l,o=Object.create(a.prototype),i=new E(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return q()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=g(i,r);if(u){if(u===s)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var s={};function l(){}function d(){}function f(){}var p={};p[a]=function(){return this};var v=Object.getPrototypeOf,h=v&&v(v(w([])));h&&h!==t&&r.call(h,a)&&(p=h);var m=f.prototype=l.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e){var t;this._invoke=function(n,a){function o(){return new Promise((function(t,o){!function t(n,a,o,i){var u=c(e[n],e,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,i)}),(function(e){t("throw",e,o,i)})):Promise.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,i)}))}i(u.arg)}(n,a,t,o)}))}return t=t?t.then(o,o):o()}}function g(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function w(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:q}}function q(){return{value:void 0,done:!0}}return d.prototype=m.constructor=f,f.constructor=d,f[i]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,a){var o=new b(u(t,r,n,a));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(m),m[i]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=w,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:w(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(2),i=r.n(o),u=r(0),c=r.n(u),s=r(4),l=r(3);!function(){var e=Object(s.b)("add-photo"),t=e.querySelector(".formWrapper"),r=e.querySelector(".submitButton"),n=document.querySelector("#ideaTitle"),o=c()(document.querySelectorAll(".addPhotoButton")),u=document.querySelector(".photoDropWrapper"),d=document.querySelector(".ideaWrapper .addPhotoButton"),f=document.querySelector(".uploadPhotoWrapper.addPhotoButton"),p=c()(document.querySelectorAll(".uploadField")),v=document.querySelector(".uploadPhotosList"),h=document.querySelector(".uploadTitleWrapper"),m=document.querySelector(".ideaList"),y={},b=function(){var e=function(){var e=!1;for(var t in y)e=!0;return e}(),t=!!n.value.length;r.disabled=!e||!t},g=function(){v.classList.add("hiddenList"),h.classList.add("hiddenTitle"),u.classList.remove("hiddenWrapper")},L=function(e,t){var r,n,a=((r=document.createElement("li")).classList.add("uploadPhotoWrapper"),r),o=function(e,t){var r=document.createElement("img");return r.src=e,r.classList.add("uploadedPhoto"),r.setAttribute("alt",t),r}(e,t),i=((n=document.createElement("button")).classList.add("removeButton"),n.setAttribute("type","button"),n.innerText="REMOVE PHOTO",n);a.appendChild(o),a.appendChild(i);return i.addEventListener("click",(function(){delete y[t],v.removeChild(a),v.children.length<=1&&g(),b()})),a},S=function(e){c()(e).forEach((function(e){y[e.name]=e;var t=new FileReader;t.addEventListener("load",(function(){var r=L(t.result,e.name);v.appendChild(r),b()})),t.readAsDataURL(e),v.classList.remove("hiddenList"),h.classList.remove("hiddenTitle"),u.classList.add("hiddenWrapper")}))};u&&f&&d&&Object(l.f)([u,f,d]);var E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.isChangeVisible,n=void 0!==r&&r;return function(t){if(!t.dataTransfer||!t.dataTransfer.files.length)return!1;S(t.dataTransfer.files),n&&Object(s.a)(e)()}};u&&u.addEventListener("drop",E()),f&&f.addEventListener("drop",E()),d&&d.addEventListener("drop",E({isChangeVisible:!0})),p.forEach((function(e){e.addEventListener("change",(function(){S(e.files),e.value=null}))}));var w=function(){for(var e in y)delete y[e];c()(v.children).forEach((function(e){if(e.classList.contains("addPhotoButton"))return!1;v.removeChild(e)})),n.value="",g(),b()},q=function(e,t){if(m.classList.contains("savedList"))return!1;t.forEach((function(t){var r=t.requestID,n=t.filename;!function(e,t,r){var n=document.querySelector(".ideaTemplate").content.querySelector("li").cloneNode(!0),a=n.querySelector(".ideaPhoto"),o=n.querySelector(".ideaTitle"),i=n.querySelector(".formWrapper .hiddenField");a.src=e,a.dataset.idea=r,a.setAttribute("alt",t),i.value=r,o.innerText=t,m.appendChild(n),m.insertBefore(n,m.children[1])}("/public/upload/ideas/".concat(r,"/").concat(n,"_252x252.jpg"),e,r)}))},x=function(){var r=i()(a.a.mark((function r(o){var i,u,c,d,f,p;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(u in o.preventDefault(),i=new FormData(t),y)i.append("ideaImage",y[u],u);return c={URL:"/api/ideas",body:i,button:o.target},r.next=6,Object(l.g)(c);case 6:if(d=r.sent,f=d.status,p=d.ideasArray,1===f){r.next=11;break}return r.abrupt("return",!1);case 11:q(n.value,p),Object(s.a)(e)(),w();case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();n.addEventListener("input",b),r.addEventListener("click",x),o.forEach((function(t){t.addEventListener("click",Object(s.a)(e))}))}(),function(){var e=c()(document.querySelectorAll(".deleteCardButton")),t=document.querySelector(".ideaList"),r=function(e){var t=e.closest(".ideaPhotoWrapper").querySelector(".hoverCardWrapper"),r=t.querySelector(".cancelButton"),n=t.querySelector(".deleteButton"),o=function(){var r=t.classList.contains("activeHover")?"remove":"add";t.classList[r]("activeHover"),e.classList[r]("hiddenButton")},u=function(e){var t='.albumWrapper[data-album="'.concat(e,'"]'),r=document.querySelector(t);if(!r)return!1;var n=r.querySelector(".albumPicturesCount"),a=Number(n.innerText);if(0!==a-1)return n.innerText=a-1;r.querySelector(".albumCoverWrapper").removeChild(n)},c=function(){var e=i()(a.a.mark((function e(){var t,r,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.dataset.api,r=n.closest(".ideaWrapper"),o=r.querySelector(".formWrapper"),i=new FormData(o),c={URL:t,method:"DELETE",body:i,button:n},e.next=7,Object(l.g)(c);case 7:if(1===e.sent.status){e.next=10;break}return e.abrupt("return",!1);case 10:u(r.dataset.album),r.parentNode.removeChild(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e.addEventListener("click",o),r.addEventListener("click",o),n.addEventListener("click",c)};e.forEach(r);var n=new MutationObserver((function(e){e.forEach((function(e){return!(!e.addedNodes||!e.addedNodes.length)&&(!!e.nextSibling&&void c()(e.addedNodes).forEach((function(e){var t=e.querySelector(".deleteCardButton");r(t)})))}))}));t&&n.observe(t,{attributes:!0,childList:!0})}(),function(){var e=Object(s.b)("edit-profile"),t=e.querySelector(".formWrapper"),r=e.querySelector(".photoLabel"),n=e.querySelector(".photoField"),o=c()(e.querySelectorAll(".fieldInput")),u=e.querySelector(".submitButton"),d=document.querySelector(".userNameWrapper .name"),f=document.querySelector(".userNameWrapper .surname"),p=document.querySelector(".userNameWrapper .username"),v=document.querySelector(".userNameWrapper .mail"),h=document.querySelector(".userNameWrapper .userID"),m=document.querySelector(".cardSection .userAvatar"),y=m.querySelector(".avatarPicture"),b=e.querySelector("#name"),g=e.querySelector("#surname"),L=e.querySelector("#username"),S=e.querySelector("#mail"),E=e.querySelector("#userID"),w=e.querySelector(".avatarField"),q=e.querySelector(".inputFieldPicture");c()(document.querySelectorAll(".editProfileButton")).forEach((function(t){t.addEventListener("click",Object(s.a)(e))}));var x=function(e,t){var r=document.createElement("img");return r.classList.add(e),r.setAttribute("alt","User avatar"),t.appendChild(r),r},O=function(e){var t=e.toModal,r=void 0===t||t,n=[b,g,L,S,E],a=[d,f,p,v,h];n.forEach((function(e,t){r?n[t].value=a[t].innerText:a[t].innerText=n[t].value}))},T=function(){var e=o.filter((function(e){return!!e.value})).length===o.length,t=!(!q||!q.src);u.disabled=!e||!t};e&&function(){O({toModal:!0});var e=!!y&&y.src;!q&&e&&(q=x("inputFieldPicture",w)),e&&(q.src=e),T()}();var A=function(e){console.log(e)},j=function(){c()(n.files).forEach((function(e){var t,r=new FileReader;r.addEventListener("load",(t=e.name,function(e){var r=e.target.result;q||(q=x("inputFieldPicture",w)),q.src=r,q.setAttribute("alt",t),T()})),r.addEventListener("error",A),r.readAsDataURL(e)}))};n.addEventListener("change",(function(){if(!n.files||!n.files.length)return!1;j()}));r&&Object(l.f)([r]),r&&r.addEventListener("drop",(function(e){if(!e.dataTransfer||!e.dataTransfer.files.length)return!1;n.files=e.dataTransfer.files,j()})),o.forEach((function(e){e.addEventListener("input",(function(){return T()}))}));u.addEventListener("click",function(){var r=i()(a.a.mark((function r(n){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),"/api/profile/settings/edit","POST",o=new FormData(t),r.next=6,Object(l.g)({URL:"/api/profile/settings/edit",method:"POST",body:o,button:u});case 6:if(1===r.sent.status){r.next=9;break}return r.abrupt("return",!1);case 9:O({toModal:!1}),y||(y=x("avatarPicture",m)),y.src=q.src,Object(s.a)(e)(),location.reload();case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}(),function(){var e=document.querySelector(".albumList"),t=c()(document.querySelectorAll(".createAlbumButton")),r=Object(s.b)("create-album"),n=r.querySelector(".formWrapper"),o=r.querySelector(".photoField"),u=r.querySelector(".photoLabel"),d=r.querySelector(".albumField"),f=r.querySelector(".fieldInput"),p=r.querySelector(".submitButton"),v=function(e){e.forEach((function(e){var t=new FileReader;t.addEventListener("load",(function(){var r=document.createElement("img");r.src=t.result,r.classList.add("inputFieldPicture"),r.setAttribute("alt",e.name),d.appendChild(r),u.classList.add("editLabel"),y()})),t.readAsDataURL(e)}))};o&&o.addEventListener("change",(function(){if(!o.files||!o.files.length)return!1;v(c()(o.files))}));u&&Object(l.f)([u]),u&&u.addEventListener("drop",(function(e){if(!e.dataTransfer||!e.dataTransfer.files.length)return!1;v(c()(e.dataTransfer.files)),u.classList.remove("dropOver")}));var h=function(t,r){var n=t.src,a=f.value,o=document.querySelector(".albumTemplate").content.querySelector("li").cloneNode(!0);o.querySelector(".albumTitle").innerText=a,o.dataset.album=String(r.requestID);var i=o.querySelector(".albumCoverPicture");i.src=n,i.setAttribute("alt",a),o.querySelector(".albumLink").setAttribute("href","profile/saved/".concat(r.requestID)),e.insertBefore(o,e.children[e.children.length-1])},m=function(e){f.value="",o.value="",d.removeChild(e),u.classList.remove("editLabel")},y=function(){var e=!!f.value.length,t=r.querySelector(".inputFieldPicture"),n=t&&t.src;e&&n?p.removeAttribute("disabled"):p.setAttribute("disabled","disabled")},b=function(){var e=i()(a.a.mark((function e(t){var o,i,u,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=new FormData(n),i={URL:"/api/profile/albums",body:o,button:p},e.next=5,Object(l.g)(i);case 5:if(1===(u=e.sent).status){e.next=8;break}return e.abrupt("return",!1);case 8:c=r.querySelector(".inputFieldPicture"),h(c,u),Object(s.a)(r)(),document.querySelector(".albumAddCover").classList.add("alreadyAdded"),m(c);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.forEach((function(e){e.addEventListener("click",Object(s.a)(r))})),f.addEventListener("input",(function(){return y()})),p.addEventListener("click",b)}(),function(){var e=Object(s.b)("edit-album"),t=e.querySelector(".photoField"),r=e.querySelector(".photoLabel"),n=e.querySelector(".inputFieldPicture"),o=e.querySelector(".fieldInput"),u=e.querySelector(".submitButton"),d=e.querySelector(".deleteButton"),f=c()(document.querySelectorAll(".editAlbumButton")),p=document.querySelector(".albumList"),v=function(t){var r=t.target.closest(".albumWrapper"),n=r.querySelector(".albumCoverPicture").src,a=r.querySelector(".albumTitle").innerText,o=r.dataset.album;e.dataset.album=o,e.querySelector("#editAlbumTitle").value=a,e.querySelector("#editAlbumID").value=o,e.querySelector(".inputFieldPicture").src=n};f.forEach((function(t){t.addEventListener("click",v),t.addEventListener("click",Object(s.a)(e))}));var h=function(){var e=!!o.value.length,t=n&&n.src;e&&t?u.removeAttribute("disabled"):u.setAttribute("disabled","disabled")},m=function(e){e.forEach((function(e){var t=new FileReader;t.addEventListener("load",(function(){n.src=t.result,n.setAttribute("alt",e.name),h()})),t.readAsDataURL(e)}))},y=function(){var t=i()(a.a.mark((function t(r,n){var o,i,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.querySelector(".formWrapper"),i=new FormData(o),"/api/profile/albums",u={URL:"/api/profile/albums",method:r,body:i,button:n},t.next=6,Object(l.g)(u);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),b=function(){var t=i()(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,y("DELETE",d);case 3:if(1===t.sent.status){t.next=6;break}return t.abrupt("return",!1);case 6:n=e.dataset.album,p.removeChild(p.querySelector('[data-album="'.concat(n,'"]'))),e.classList.remove("activeModal"),c()(document.querySelectorAll(".albumWrapper[data-album]")).length||document.querySelector(".albumAddCover").classList.remove("alreadyAdded");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=i()(a.a.mark((function t(r){var i,c,d,f,v,h,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),i=e.querySelector(".formWrapper"),c=new FormData(i),d={URL:"/api/profile/albums/edit",body:c,button:u},t.next=6,Object(l.g)(d);case 6:if(1===t.sent.status){t.next=9;break}return t.abrupt("return",!1);case 9:f=e.dataset.album,v=p.querySelector('[data-album="'.concat(f,'"]')),h=v.querySelector(".albumTitle"),m=v.querySelector(".albumCoverPicture"),h.innerText=o.value,m.src=n.src,Object(s.a)(e)();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();r&&Object(l.f)([r]),r.addEventListener("drop",(function(e){if(!e.dataTransfer||!e.dataTransfer.files.length)return!1;m(c()(e.dataTransfer.files))})),t.addEventListener("change",(function(){if(!t.files||!t.files.length)return!1;m(c()(t.files))})),o.addEventListener("input",(function(){return h()})),d.addEventListener("click",b),u.addEventListener("click",g);var L=new MutationObserver((function(t){t.forEach((function(t){if(!t.addedNodes[0])return!1;if("LI"!==t.addedNodes[0].tagName)return!1;var r=t.addedNodes[0].querySelector(".editAlbumButton");r.addEventListener("click",v),r.addEventListener("click",Object(s.a)(e))}))}));p&&L.observe(p,{attributes:!0,childList:!0,subtree:!0})}()}]);